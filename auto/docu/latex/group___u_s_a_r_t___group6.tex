\hypertarget{group___u_s_a_r_t___group6}{}\section{Smartcard mode functions}
\label{group___u_s_a_r_t___group6}\index{Smartcard mode functions@{Smartcard mode functions}}


Smartcard mode functions.  


\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{group___u_s_a_r_t___group6_gac4a35c6acd71ae7e0d67c1f03f0a8777}{U\+S\+A\+R\+T\+\_\+\+Set\+Guard\+Time}} (U\+S\+A\+R\+T\+\_\+\+Type\+Def $\ast$U\+S\+A\+R\+Tx, uint8\+\_\+t U\+S\+A\+R\+T\+\_\+\+Guard\+Time)
\begin{DoxyCompactList}\small\item\em Sets the specified U\+S\+A\+RT guard time. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___u_s_a_r_t___group6_gabd1347e244c623447151ba3a5e986c5f}{U\+S\+A\+R\+T\+\_\+\+Smart\+Card\+Cmd}} (U\+S\+A\+R\+T\+\_\+\+Type\+Def $\ast$U\+S\+A\+R\+Tx, Functional\+State New\+State)
\begin{DoxyCompactList}\small\item\em Enables or disables the U\+S\+A\+RT\textquotesingle{}s Smart Card mode. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___u_s_a_r_t___group6_ga62e22f47e38aa53f2edce8771f7a5dfa}{U\+S\+A\+R\+T\+\_\+\+Smart\+Card\+N\+A\+C\+K\+Cmd}} (U\+S\+A\+R\+T\+\_\+\+Type\+Def $\ast$U\+S\+A\+R\+Tx, Functional\+State New\+State)
\begin{DoxyCompactList}\small\item\em Enables or disables N\+A\+CK transmission. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Smartcard mode functions. 

\begin{DoxyVerb} ===============================================================================
                              ##### Smartcard mode functions #####
 ===============================================================================  
    [..]
    This subsection provides a set of functions allowing to manage the USART 
    Smartcard communication.
    [..]
    The Smartcard interface is designed to support asynchronous protocol Smartcards as
    defined in the ISO 7816-3 standard.
    [..]
    The USART can provide a clock to the smartcard through the SCLK output.
    In smartcard mode, SCLK is not associated to the communication but is simply derived 
    from the internal peripheral input clock through a 5-bit prescaler.
    [..]
    Smartcard communication is possible through the following procedure:
      (#) Configures the Smartcard Prescaler using the USART_SetPrescaler() function.
      (#) Configures the Smartcard Guard Time using the USART_SetGuardTime() function.
      (#) Program the USART clock using the USART_ClockInit() function as following:
        (++) USART Clock enabled
        (++) USART CPOL Low
        (++) USART CPHA on first edge
        (++) USART Last Bit Clock Enabled
      (#) Program the Smartcard interface using the USART_Init() function as following:
        (++) Word Length = 9 Bits
        (++) 1.5 Stop Bit
        (++) Even parity
        (++) BaudRate = 12096 baud
        (++) Hardware flow control disabled (RTS and CTS signals)
        (++) Tx and Rx enabled
      (#) POptionally you can enable the parity error interrupt using the USART_ITConfig()
          function
      (#) PEnable the USART using the USART_Cmd() function.
      (#) PEnable the Smartcard NACK using the USART_SmartCardNACKCmd() function.
      (#) PEnable the Smartcard interface using the USART_SmartCardCmd() function.

    Please refer to the ISO 7816-3 specification for more details.

      -@- It is also possible to choose 0.5 stop bit for receiving but it is recommended 
          to use 1.5 stop bits for both transmitting and receiving to avoid switching 
          between the two configurations.
      -@- In smartcard mode, the following bits must be kept cleared:
        (+@) LINEN bit in the USART_CR2 register.
        (+@) HDSEL and IREN bits in the USART_CR3 register.
      -@- Smartcard mode is available on USART peripherals only (not available on UART4 
          and UART5 peripherals).\end{DoxyVerb}
 

\subsection{Function Documentation}
\mbox{\Hypertarget{group___u_s_a_r_t___group6_gac4a35c6acd71ae7e0d67c1f03f0a8777}\label{group___u_s_a_r_t___group6_gac4a35c6acd71ae7e0d67c1f03f0a8777}} 
\index{Smartcard mode functions@{Smartcard mode functions}!U\+S\+A\+R\+T\+\_\+\+Set\+Guard\+Time@{U\+S\+A\+R\+T\+\_\+\+Set\+Guard\+Time}}
\index{U\+S\+A\+R\+T\+\_\+\+Set\+Guard\+Time@{U\+S\+A\+R\+T\+\_\+\+Set\+Guard\+Time}!Smartcard mode functions@{Smartcard mode functions}}
\subsubsection{\texorpdfstring{U\+S\+A\+R\+T\+\_\+\+Set\+Guard\+Time()}{USART\_SetGuardTime()}}
{\footnotesize\ttfamily void U\+S\+A\+R\+T\+\_\+\+Set\+Guard\+Time (\begin{DoxyParamCaption}\item[{U\+S\+A\+R\+T\+\_\+\+Type\+Def $\ast$}]{U\+S\+A\+R\+Tx,  }\item[{uint8\+\_\+t}]{U\+S\+A\+R\+T\+\_\+\+Guard\+Time }\end{DoxyParamCaption})}



Sets the specified U\+S\+A\+RT guard time. 


\begin{DoxyParams}{Parameters}
{\em U\+S\+A\+R\+Tx} & where x can be 1, 2, 3 or 6 to select the U\+S\+A\+RT or U\+A\+RT peripheral. \\
\hline
{\em U\+S\+A\+R\+T\+\_\+\+Guard\+Time} & specifies the guard time. ~\newline
\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{group___u_s_a_r_t___group6_gabd1347e244c623447151ba3a5e986c5f}\label{group___u_s_a_r_t___group6_gabd1347e244c623447151ba3a5e986c5f}} 
\index{Smartcard mode functions@{Smartcard mode functions}!U\+S\+A\+R\+T\+\_\+\+Smart\+Card\+Cmd@{U\+S\+A\+R\+T\+\_\+\+Smart\+Card\+Cmd}}
\index{U\+S\+A\+R\+T\+\_\+\+Smart\+Card\+Cmd@{U\+S\+A\+R\+T\+\_\+\+Smart\+Card\+Cmd}!Smartcard mode functions@{Smartcard mode functions}}
\subsubsection{\texorpdfstring{U\+S\+A\+R\+T\+\_\+\+Smart\+Card\+Cmd()}{USART\_SmartCardCmd()}}
{\footnotesize\ttfamily void U\+S\+A\+R\+T\+\_\+\+Smart\+Card\+Cmd (\begin{DoxyParamCaption}\item[{U\+S\+A\+R\+T\+\_\+\+Type\+Def $\ast$}]{U\+S\+A\+R\+Tx,  }\item[{Functional\+State}]{New\+State }\end{DoxyParamCaption})}



Enables or disables the U\+S\+A\+RT\textquotesingle{}s Smart Card mode. 


\begin{DoxyParams}{Parameters}
{\em U\+S\+A\+R\+Tx} & where x can be 1, 2, 3 or 6 to select the U\+S\+A\+RT or U\+A\+RT peripheral. \\
\hline
{\em New\+State} & new state of the Smart Card mode. This parameter can be\+: E\+N\+A\+B\+LE or D\+I\+S\+A\+B\+LE. ~\newline
\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}
\mbox{\Hypertarget{group___u_s_a_r_t___group6_ga62e22f47e38aa53f2edce8771f7a5dfa}\label{group___u_s_a_r_t___group6_ga62e22f47e38aa53f2edce8771f7a5dfa}} 
\index{Smartcard mode functions@{Smartcard mode functions}!U\+S\+A\+R\+T\+\_\+\+Smart\+Card\+N\+A\+C\+K\+Cmd@{U\+S\+A\+R\+T\+\_\+\+Smart\+Card\+N\+A\+C\+K\+Cmd}}
\index{U\+S\+A\+R\+T\+\_\+\+Smart\+Card\+N\+A\+C\+K\+Cmd@{U\+S\+A\+R\+T\+\_\+\+Smart\+Card\+N\+A\+C\+K\+Cmd}!Smartcard mode functions@{Smartcard mode functions}}
\subsubsection{\texorpdfstring{U\+S\+A\+R\+T\+\_\+\+Smart\+Card\+N\+A\+C\+K\+Cmd()}{USART\_SmartCardNACKCmd()}}
{\footnotesize\ttfamily void U\+S\+A\+R\+T\+\_\+\+Smart\+Card\+N\+A\+C\+K\+Cmd (\begin{DoxyParamCaption}\item[{U\+S\+A\+R\+T\+\_\+\+Type\+Def $\ast$}]{U\+S\+A\+R\+Tx,  }\item[{Functional\+State}]{New\+State }\end{DoxyParamCaption})}



Enables or disables N\+A\+CK transmission. 


\begin{DoxyParams}{Parameters}
{\em U\+S\+A\+R\+Tx} & where x can be 1, 2, 3 or 6 to select the U\+S\+A\+RT or U\+A\+RT peripheral. \\
\hline
{\em New\+State} & new state of the N\+A\+CK transmission. This parameter can be\+: E\+N\+A\+B\+LE or D\+I\+S\+A\+B\+LE. ~\newline
\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em None} & \\
\hline
\end{DoxyRetVals}
